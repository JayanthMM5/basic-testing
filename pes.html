<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SJP Admission Form – Basic testing webpage</title>
  <style>
    /* ---------- THEME ---------- */
    :root{
      --brand:#2f80ed;
      --brand-dark:#1c5dc9;
      --bg1:#56ccf2;
      --bg2:#2f80ed;
      --card:#ffffff;
      --muted:#f5f8ff;
      --text:#333;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:linear-gradient(120deg,var(--bg1),var(--bg2));
      min-height:100vh;
      display:flex;
      align-items:center;
      padding:24px;
    }
    .container{
      width:100%;
      max-width:1100px;
      margin:0 auto;
      background:var(--card);
      border-radius:16px;
      box-shadow:0 12px 30px rgba(0,0,0,.15);
      padding:28px;
      display:flex;
      gap:24px;
      flex-wrap:wrap;
    }
    h1{
      width:100%;
      margin:0 0 8px;
      text-align:center;
      font-size:30px;
      color:var(--brand);
      letter-spacing:.3px;
    }
    .sub{
      width:100%;
      text-align:center;
      color:#555;
      margin-bottom:8px;
      font-size:14px;
    }
    .grid{
      display:flex;
      gap:24px;
      flex-wrap:wrap;
      width:100%;
    }
    form,.preview{
      flex:1 1 460px;
      min-width:300px;
    }

    /* ---------- FORM ---------- */
    .form-group{margin:0 0 14px}
    label{display:block;font-weight:600;margin-bottom:6px}
    input,select,textarea,button{
      width:100%;
      padding:12px 12px;
      border:1px solid #d6d9e0;
      border-radius:10px;
      font-size:15px;
      outline:0;
      transition:box-shadow .2s,border-color .2s,transform .15s;
      background:#fff;
    }
    input:focus,select:focus,textarea:focus{
      border-color:var(--brand);
      box-shadow:0 0 0 4px rgba(47,128,237,.15);
    }
    .radio-group{
      display:flex;flex-wrap:wrap;gap:12px
    }
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 12px;border:1px solid #d6d9e0;border-radius:20px;
      background:#fff;
    }
    .chip input{width:auto;transform:scale(1.1)}
    small.error{
      display:block;margin-top:6px;font-size:12px;color:#d93025;min-height:14px
    }
    button{
      background:var(--brand);color:#fff;font-weight:600;cursor:pointer;border:none;
      box-shadow:0 8px 16px rgba(47,128,237,.25)
    }
    button:hover{transform:translateY(-1px)}
    button:active{transform:translateY(0)}
    .hint{font-size:12px;color:#666;margin-top:6px}

    /* ---------- PREVIEW (bigger & attractive) ---------- */
    .preview{
      background:linear-gradient(145deg,#eef5ff,#dfeaff);
      border-radius:14px;
      padding:22px;
      box-shadow:inset 0 0 0 1px rgba(28,93,201,.08), inset 0 8px 30px rgba(0,0,0,.06);
    }
    .card-title{
      margin:0 0 12px;text-align:center;color:var(--brand);font-weight:800;
      font-size:24px;text-decoration:underline dashed;
    }
    .row{
      display:flex;gap:10px;align-items:flex-start;margin:10px 0;
      padding:10px 12px;border-radius:10px;background:#ffffffcc;
      box-shadow:0 1px 0 rgba(28,93,201,.06);
      font-size:18px; /* Bigger font for preview */
    }
    .row b{color:var(--brand-dark);min-width:110px}
    .pill{
      display:inline-block;padding:4px 10px;border-radius:999px;
      background:#e7f0ff;border:1px solid rgba(28,93,201,.18);font-size:14px
    }

    /* ---------- RESPONSIVE ---------- */
    @media (max-width:768px){
      body{padding:16px}
      .container{padding:18px}
      .row{font-size:17px}
    }

    /* ---------- ACCESSIBILITY ---------- */
    .sr{position:absolute !important;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
  </style>
</head>
<body>
  <div class="container">
    <h1>PESU Admission Form</h1>
    <div class="sub">Interactive • Real-time validation • Live preview • Responsive (Flexbox)</div>

    <div class="grid">
      <!-- =================== FORM =================== -->
      <form id="admissionForm" novalidate>
        <div class="form-group">
          <label for="name">Full Name</label>
          <input id="name" type="text" placeholder="Enter your full name" maxlength="80"/>
          <small class="error" id="name-error" aria-live="polite"></small>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="email" placeholder="example@pes.edu" inputmode="email"/>
          <small class="error" id="email-error" aria-live="polite"></small>
        </div>

        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input id="phone" type="tel" placeholder="10-digit number" inputmode="numeric" pattern="[0-9]{10}" />
          <small class="error" id="phone-error" aria-live="polite"></small>
          <div class="hint">Digits only, e.g., 9876543210</div>
        </div>

        <div class="form-group">
          <label for="dob">Date of Birth</label>
          <input id="dob" type="date"/>
          <small class="error" id="dob-error" aria-live="polite"></small>
        </div>

        <div class="form-group">
          <label for="course">Preferred Course</label>
          <select id="course">
            <option value="">Select a course</option>
            <option value="Computer Science (CSE)">Computer Science (CSE)</option>
            <option value="Electronics (ECE)">Electronics (ECE)</option>
            <option value="Mechanical (ME)">Mechanical (ME)</option>
            <option value="Civil Engineering">Civil Engineering</option>
          </select>
          <small class="error" id="course-error" aria-live="polite"></small>
        </div>

        <div class="form-group" id="gender-group">
          <label>Gender</label>
          <div class="radio-group" role="radiogroup" aria-labelledby="gender-group">
            <label class="chip"><input type="radio" name="gender" value="Male"> Male</label>
            <label class="chip"><input type="radio" name="gender" value="Female"> Female</label>
            <label class="chip"><input type="radio" name="gender" value="Other"> Other</label>
          </div>
          <small class="error" id="gender-error" aria-live="polite"></small>
        </div>

        <div class="form-group">
          <label for="address">Address</label>
          <textarea id="address" rows="3" placeholder="House / Street / City / PIN"></textarea>
          <small class="error" id="address-error" aria-live="polite"></small>
        </div>

        <button type="submit">Submit</button>
      </form>

      <!-- =================== LIVE PREVIEW =================== -->
      <section class="preview" aria-live="polite">
        <h2 class="card-title">Live Preview</h2>
        <div class="row"><b>Name:</b> <span id="pv-name" class="pill">-</span></div>
        <div class="row"><b>Email:</b> <span id="pv-email" class="pill">-</span></div>
        <div class="row"><b>Phone:</b> <span id="pv-phone" class="pill">-</span></div>
        <div class="row"><b>DOB:</b> <span id="pv-dob" class="pill">-</span></div>
        <div class="row"><b>Course:</b> <span id="pv-course" class="pill">-</span></div>
        <div class="row"><b>Gender:</b> <span id="pv-gender" class="pill">-</span></div>
        <div class="row"><b>Address:</b> <span id="pv-address" class="pill">-</span></div>
      </section>
    </div>
  </div>

  <script>
    // ---------- SAFE HELPERS ----------
    function setText(id, value){ var el=document.getElementById(id); if(el) el.textContent = value || "-"; }
    function on(el, ev, fn){ if(el) el.addEventListener(ev, fn, false); }
    function get(id){ return document.getElementById(id); }
    function setErr(id,msg){ var el=get(id); if(el) el.textContent = msg || ""; }

    // Email & phone validators
    function isEmail(v){ return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(String(v).trim()); }
    function isPhone(v){ return /^[0-9]{10}$/.test(String(v).trim()); }

    // ---------- PREVIEW UPDATE ----------
    function updatePreview(){
      setText("pv-name",   get("name").value.trim());
      setText("pv-email",  get("email").value.trim());
      setText("pv-phone",  get("phone").value.trim());
      setText("pv-dob",    get("dob").value);
      setText("pv-course", get("course").value);
      var genderEls = document.getElementsByName("gender");
      var g = Array.from(genderEls).find(r=>r.checked);
      setText("pv-gender", g ? g.value : "");
      setText("pv-address",get("address").value.trim());
    }

    // ---------- VALIDATION ----------
    function validateForm(){
      var ok = true;

      var name = get("name").value.trim();
      if(name.length < 3){ setErr("name-error","Name must be at least 3 characters"); ok=false; }
      else setErr("name-error","");

      var email = get("email").value.trim();
      if(!isEmail(email)){ setErr("email-error","Enter a valid email address"); ok=false; }
      else setErr("email-error","");

      var phone = get("phone").value.trim();
      if(!isPhone(phone)){ setErr("phone-error","Enter a valid 10-digit phone number"); ok=false; }
      else setErr("phone-error","");

      var dob = get("dob").value;
      if(!dob){ setErr("dob-error","Please select your date of birth"); ok=false; }
      else setErr("dob-error","");

      var course = get("course").value;
      if(!course){ setErr("course-error","Please select a course"); ok=false; }
      else setErr("course-error","");

      var genderEls = document.getElementsByName("gender");
      var hasGender = Array.from(genderEls).some(r=>r.checked);
      if(!hasGender){ setErr("gender-error","Please select your gender"); ok=false; }
      else setErr("gender-error","");

      // Address is optional; no error set.
      return ok;
    }

    // ---------- BIND EVENTS (no NodeList.forEach pitfalls) ----------
    (function init(){
      // Input/typing
      ["name","email","phone","dob","address"].forEach(function(id){
        on(get(id),"input",updatePreview);
      });
      // Select change
      on(get("course"),"change",updatePreview);
      // Radios change
      Array.from(document.getElementsByName("gender")).forEach(function(r){
        on(r,"change",updatePreview);
      });

      // Submit
      var form = get("admissionForm");
      on(form,"submit",function(e){
        e.preventDefault(); // custom validation
        var ok = validateForm();
        if(ok){
          alert("Form submitted successfully!");
          form.reset();
          updatePreview();
          // clear any lingering errors
          ["name","email","phone","dob","course","gender","address"].forEach(function(k){
            setErr(k+"-error","");
          });
        }
      });

      // Initial preview
      updatePreview();
    })();
  </script>
</body>
</html>